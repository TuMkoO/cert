(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d217357"],{c66d:function(e,t,r){"use strict";r.r(t);r("b0c0");var a=r("7a23"),n={class:"container"},c=Object(a["createElementVNode"])("div",{class:"py-4"},[Object(a["createElementVNode"])("h4",{class:"text-center mb-4"},"Мой профиль")],-1),l={key:1,class:"profile"},o={class:"row"},i={class:"mb-3"},u=Object(a["createElementVNode"])("label",{for:"inputEmail",class:"form-label"},"Email",-1),s={key:0,class:"form-text text-danger"},b={class:"mb-3"},m=Object(a["createElementVNode"])("label",{for:"inputName",class:"form-label"},"Имя",-1),d={key:0,class:"form-text text-danger"},p={class:"mb-3"},j=Object(a["createTextVNode"])("Сменить пароль"),O=Object(a["createElementVNode"])("button",{type:"submit",class:"btn btn-primary mt-3"}," Сохранить ",-1);function v(e,t,r,v,f,E){var h=Object(a["resolveComponent"])("app-loader"),k=Object(a["resolveComponent"])("router-link"),w=Object(a["resolveComponent"])("app-page");return Object(a["openBlock"])(),Object(a["createBlock"])(w,{title:"Мой профиль"},{default:Object(a["withCtx"])((function(){return[Object(a["createElementVNode"])("div",n,[c,v.loading?(Object(a["openBlock"])(),Object(a["createBlock"])(h,{key:0})):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",l,[Object(a["createElementVNode"])("div",o,[Object(a["createElementVNode"])("form",{onSubmit:t[2]||(t[2]=Object(a["withModifiers"])((function(){return v.onSubmit&&v.onSubmit.apply(v,arguments)}),["prevent"]))},[Object(a["createElementVNode"])("div",i,[u,Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{type:"email",class:Object(a["normalizeClass"])(["form-control",{"is-invalid":v.eError}]),id:"inputEmail","onUpdate:modelValue":t[0]||(t[0]=function(e){return v.email=e})},null,2),[[a["vModelText"],v.email]]),v.eError?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",s,Object(a["toDisplayString"])(v.eError),1)):Object(a["createCommentVNode"])("",!0)]),Object(a["createElementVNode"])("div",b,[m,Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{type:"text",class:Object(a["normalizeClass"])(["form-control",{"is-invalid":v.nError}]),id:"inputName","onUpdate:modelValue":t[1]||(t[1]=function(e){return v.name=e})},null,2),[[a["vModelText"],v.name]]),v.nError?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",d,Object(a["toDisplayString"])(v.nError),1)):Object(a["createCommentVNode"])("",!0)]),Object(a["createElementVNode"])("div",p,[Object(a["createVNode"])(k,{to:"/password"},{default:Object(a["withCtx"])((function(){return[j]})),_:1})]),O],32)])]))])]})),_:1})}var f=r("1da1"),E=(r("96cf"),r("498a"),r("5502")),h=r("7bb1"),k=r("506a"),w=r("1da6"),N=r("ddc6"),V={setup:function(){var e=Object(E["b"])(),t=Object(a["ref"])(!1),r=Object(a["ref"])(null),n=Object(a["ref"])(null),c=Object(h["b"])(),l=c.handleSubmit,o=c.isSubmitting,i=(c.submitCount,Object(h["a"])("email",k["b"]().trim().required("Пожалуйста, введите email").email("Необходимо ввести корректный email"))),u=i.value,s=i.errorMessage,b=i.handleBlur,m=Object(h["a"])("name",k["b"]().trim().required("Пожалуйста, введите имя").min(5,"Имя не может быть меньше 5 символов")),d=m.value,p=m.errorMessage,j=m.handleBlur;Object(a["onMounted"])(Object(f["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.value=!0,n.value=e.getters["auth/user"].id,n.value){a.next=6;break}return a.next=5,e.dispatch("auth/loadCurrentUserId");case 5:n.value=a.sent;case 6:return a.next=8,e.dispatch("auth/loadUserById",n.value);case 8:r.value=a.sent,u.value=r.value.email,d.value=r.value.name,t.value=!1;case 12:case"end":return a.stop()}}),a)}))));var O=l(function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.dispatch("auth/update",r);case 3:t.next=7;break;case 5:t.prev=5,t.t0=t["catch"](0);case 7:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}());return{user:r,loading:t,email:u,name:d,eError:s,nError:p,eBlur:b,nBlur:j,onSubmit:O,isSubmitting:o}},components:{AppPage:w["a"],AppLoader:N["a"]}},x=r("6b0d"),g=r.n(x);const B=g()(V,[["render",v]]);t["default"]=B}}]);
//# sourceMappingURL=chunk-2d217357.2349427e.js.map